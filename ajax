<!DOCTYPE html>
<head>
<title>
Weather Report
</title>
</head>
<style>

h1{font:54px arial;}

body{background:black;color:white;text-align:center;font:24px montserrat;color:#735DB5;text-shadow:1px 1px 3px #000;}
#moon{background-color:white;
  height:50px;
  width:50px;
  border-radius:50%;
  position:absolute;
}
#crater{background: rgba(0,0,0,0.05);
  position:relative;
height:30px;
width:30px;
  margin-left:20px;
  margin-top:15px;
border-radius:50%;}
#sun{
  background-color:yellow;
  height:50px;
  width:50px;
  border-radius:50%;
  position:absolute;
}
#ray{
  position:relative;
  background-color:orange;
  height:50px;
  width:50px;
  animation-name: shine;
  animation-duration: 24s;
  animation-iteration-count: infinite;
  animation-timing-function: ease-out;
  z-index:-1;
}
#ray1{
  position:relative;
  background-color:orange;
  height:50px;
  width:50px;
  animation-name: shine;
  animation-duration: 22s;
  animation-iteration-count: infinite;
  animation-timing-function: ease-in;
  z-index:-1;
}
#ray2{
  position:relative;
  background-color:orange;
  height:50px;
  width:50px;
  animation-name: shine;
  animation-duration: 14s;
  animation-iteration-count: infinite;
  animation-timing-function: linear;
  z-index:-1;
}
@keyframes shine{
    from {transform:rotate(0deg);}
    to {transform:rotate(360deg);}
}


#star1{
  position:relative;
  background-color:white;
  height:1px;
  width: 1px;
  margin-left:-4%;
  animation-name:sparkle;
  animation-duration: 5s;
  animation-iteration-count:infinite;
  animation-timing-function: ease;
}
#star2{
  position:relative;
  background-color:white;
  height:1px;
  width: 1px;
  margin-left:115%;
  margin-top:-75%;
  animation-name:sparkle;
  animation-duration: 3s;
  animation-iteration-count:infinite;
  animation-timing-function: ease;
}
#star3{
  position:relative;
  background-color:white;
  height:1px;
  width: 1px;
  margin-left:100%;
  margin-top:-40%;
  animation-name:sparkle;
  animation-duration: 4s;
  animation-iteration-count:infinite;
  animation-timing-function: ease;
}
@keyframes sparkle{
  0%{background-color:#DDD;}
  25%{background-color:#AAA;}
  50%{background-color:#999;}
  75%{background-color:#555;}
  100%{background-color:#CCC;}
}
#w{padding-top:10%;}
#all{margin-left:48%;margin-right:48%;margin-top:4%;}
</style>
<body>
<h1 id="city"></h1>
<div id="all">
<div id="moon"><div id="crater"></div><div id="star1"></div><div id="star2"></div><div id="star3"></div></div>
<div id="sun"><div id="ray"><div id="ray1"><div id="ray2"></div></div></div></div>
</div>
<div id="w"></div>
<p id='t'></p>
<p id='hU'></p>
<p id='til'></p>
</body>
<script>
function ajaxCall(){
var loc=prompt("Name your city");
var weather = new XMLHttpRequest();
weather.open("GET","http://api.openweathermap.org/data/2.5/weather?q=" + loc + ",us&appid=002c514b7cc57302b542830301bf1422",false);
weather.send(null);
var r=JSON.parse(weather.response);
var des= r.weather[0].description;
var tC=(Math.floor(r.main.temp-273.15))+ "\u00B0" + "C";
var tF=(Math.floor((r.main.temp * (9/5))- 459.67))+ "\u00B0" + "F";
var hU=r.main.humidity;
var city=r.name;
var sRise=r.sys.sunrise;
var sSet=r.sys.sunset;
var diff=sRise-sSet;
var temp=document.getElementById("t");
temp.innerHTML=tF;
document.getElementById("w").innerHTML=des;
document.getElementById("hU").innerHTML="Humidity: " + hU +"%";
document.getElementById("city").innerHTML=city;

function check(){
  var moon=document.getElementById("moon");
  var sun=document.getElementById("sun");
  if(diff<=0){
  moon.style.visibility="visible";
  sun.style.visibility="hidden";
  };
  if(diff>0){
  document.body.style.background="#249";
  moon.style.visibility="hidden";
  sun.style.visibility="visible";
  }
}

check();

temp.addEventListener("click",function(){
if(temp.innerHTML=tF){return temp.innerHTML=tC;};
});
temp.addEventListener("mousedown",function(){
  if(temp.innerHTML=tC){return temp.innerHTML=tF;};
});
}

ajaxCall();
</script>